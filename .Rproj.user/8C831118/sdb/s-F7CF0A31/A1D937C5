{
    "collab_server" : "",
    "contents" : "make_feature_pairs <- function(lemma_list) {\n  #Get the McRae features\n  features <-\n    hi <- read_delim(\"data/MacRae.csv\", delim = \",\") %>%\n    select(Concept, Feature, WB_Label, BR_Label) %>%\n    filter(BR_Label==\"visual-form_and_surface\") %>% #Here it depends what kind of features we would like to keep (perceptual? conceptual? both?)\n    rename(uni_lemma=Concept)\n  #Intersection of Wordbank with McRae concepts\n  #(Note that we work with unilemmas and not with definitions becuase we would like to use cross-linguistic data)\n  \n  #List of word types in WordBank\n  wb <- lemma_list\n  # List of wordbank with feature\n  \n  #Here I still should deal with words in parenthesis (homophony/polysemy), e.g., chiken (animal) vs. chiken (food), etc...\n  \n  item_feat <- wb %>%\n    left_join(features) %>%\n    rename(item.definition = uni_lemma,\n           item_feat = Feature) %>%\n    filter(!is.na(item_feat)) %>%\n    select(item, item.definition, item_feat)\n  \n  \n  item_feat_list <- (wb %>%\n                       filter(item %in% item_feat$item) %>%\n                       select(item))$item\n  \n  # List these words pair-wise and compate the number of shared feature for each pair\n  item_pair <- expand.grid(item = item_feat_list,\n                           pair = item_feat_list)\n  \n  pair_feat <- item_feat %>%\n    rename(pair = item,\n           pair_feat = item_feat,\n           pair.definition = item.definition)\n  \n  item_feat_pair <- left_join(item_feat, item_pair)\n  \n  item_pair_feat <- item_feat_pair %>%\n    left_join(pair_feat)\n  \n  item_pair_shared <- item_pair_feat %>%\n    group_by(item, item.definition, pair, pair.definition) %>%\n    summarise(shared = sum(pair_feat == item_feat)) %>%\n    filter(item!=pair)\n  \n  return(item_pair_shared)\n}",
    "created" : 1524769469010.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2363668780",
    "id" : "A1D937C5",
    "lastKnownWriteTime" : 1524769544,
    "last_content_update" : 1524769544179,
    "path" : "~/Documents/Experiments/conceptNet/helpers/make_feature_pairs.r",
    "project_path" : "helpers/make_feature_pairs.r",
    "properties" : {
    },
    "relative_order" : 5,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}